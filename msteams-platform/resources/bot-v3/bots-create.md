---
title: 创建机器人
description: 介绍如何在 Microsoft Teams
ms.topic: how-to
keywords: 团队机器人创建
localization_priority: Normal
ms.date: 12/07/2018
ms.openlocfilehash: 95e87538bf9c5c5883ef0b735b01070f0aea810a
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/26/2021
ms.locfileid: "52019774"
---
# <a name="create-a-bot"></a><span data-ttu-id="70bf5-104">创建机器人</span><span class="sxs-lookup"><span data-stu-id="70bf5-104">Create a bot</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="70bf5-105">使用 Microsoft Bot Framework 创建的所有聊天机器人均已配置并准备好在 Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="70bf5-105">All bots created using the Microsoft Bot Framework are configured and ready to work in Microsoft Teams.</span></span>

<span data-ttu-id="70bf5-106">有关 [自动程序的常规](/azure/bot-service/?view=azure-bot-service-3.0&preserve-view=true) 信息，请参阅 Bot Framework 文档。</span><span class="sxs-lookup"><span data-stu-id="70bf5-106">See the [Bot Framework Documentation](/azure/bot-service/?view=azure-bot-service-3.0&preserve-view=true) for general information on bots.</span></span>

## <a name="create-a-bot-for-microsoft-teams"></a><span data-ttu-id="70bf5-107">为 Microsoft Teams 创建自动程序</span><span class="sxs-lookup"><span data-stu-id="70bf5-107">Create a bot for Microsoft Teams</span></span>

<span data-ttu-id="70bf5-108">*Teams App Studio* 是一个可帮助创建自动程序的工具，以及引用机器人的应用包。</span><span class="sxs-lookup"><span data-stu-id="70bf5-108">*Teams App Studio* is a tool that can help create your bot, and an app package that references your bot.</span></span> <span data-ttu-id="70bf5-109">它还包含 React 控件库和卡的可配置示例。</span><span class="sxs-lookup"><span data-stu-id="70bf5-109">It also contains a React control library and configurable samples for cards.</span></span> <span data-ttu-id="70bf5-110">请参阅[开始使用 Teams App Studio](~/concepts/build-and-test/app-studio-overview.md)。</span><span class="sxs-lookup"><span data-stu-id="70bf5-110">See [Getting started with Teams App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span> <span data-ttu-id="70bf5-111">下面的步骤假定你正在手动配置机器人，而不是在 App Studio *Teams程序*。</span><span class="sxs-lookup"><span data-stu-id="70bf5-111">The steps that follow assume that you are hand configuring your bot and not using *Teams App Studio*.</span></span>

1. <span data-ttu-id="70bf5-112">使用此链接创建机器人 https://dev.botframework.com/bots/new ：。</span><span class="sxs-lookup"><span data-stu-id="70bf5-112">Create the bot using this link: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="70bf5-113">**创建自动程序后，请确保从特色频道列表中将 Microsoft Teams 添加为频道。**</span><span class="sxs-lookup"><span data-stu-id="70bf5-113">**Be sure to add Microsoft Teams as a channel from the featured channels list after creating your bot.**</span></span> <span data-ttu-id="70bf5-114">如果你已经创建应用程序包/清单，请随意重复使用你生成的任何 Microsoft 应用 ID。</span><span class="sxs-lookup"><span data-stu-id="70bf5-114">Feel free to re-use any Microsoft App ID you generated if you've already created your app package/manifest.</span></span>

   ![Bot Framework 注册页面](~/assets/images/bots/bfregister.png)

> [!NOTE]
> <span data-ttu-id="70bf5-116">如果你不希望在 Azure 中创建自动程序， **则必须** 使用此链接创建新自动程序 https://dev.botframework.com/bots/new ：。</span><span class="sxs-lookup"><span data-stu-id="70bf5-116">If you do not wish to create your bot in Azure, you **must** use this link to create a new bot: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="70bf5-117">如果改为单击 Bot Framework 门户中的"*创建* 自动程序"按钮，你将改为在 [Microsoft Azure。](#bots-and-microsoft-azure)</span><span class="sxs-lookup"><span data-stu-id="70bf5-117">If you click on the *Create a bot* button in the Bot Framework portal instead, you will [create your bot in Microsoft Azure](#bots-and-microsoft-azure) instead.</span></span>

2. <span data-ttu-id="70bf5-118">使用[Microsoft.Bot.Connector.Teams NuGet、Bot](https://www.nuget.org/packages/Microsoft.Bot.Connector.Teams) [Framework SDK](https://github.com/microsoft/botframework-sdk)或 Bot Connector API 生成[自动程序](https://docs.microsoft.com/bot-framework/rest-api/bot-framework-rest-connector-api-reference)。</span><span class="sxs-lookup"><span data-stu-id="70bf5-118">Build the bot using the [Microsoft.Bot.Connector.Teams](https://www.nuget.org/packages/Microsoft.Bot.Connector.Teams) NuGet package, the  [Bot Framework SDK](https://github.com/microsoft/botframework-sdk), or the [Bot Connector API](https://docs.microsoft.com/bot-framework/rest-api/bot-framework-rest-connector-api-reference).</span></span> <span data-ttu-id="70bf5-119">*另请参阅* [Bot Framework 示例](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md)。</span><span class="sxs-lookup"><span data-stu-id="70bf5-119">*See also* [Bot Framework samples](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md).</span></span>

3. <span data-ttu-id="70bf5-120">使用 Bot Framework Emulator 测试[机器人](https://docs.microsoft.com/bot-framework/debug-bots-emulator)。</span><span class="sxs-lookup"><span data-stu-id="70bf5-120">Test the bot using the [Bot Framework Emulator](https://docs.microsoft.com/bot-framework/debug-bots-emulator).</span></span>

4. <span data-ttu-id="70bf5-121">将机器人部署到云服务，例如[Microsoft Azure。](https://azure.microsoft.com/)</span><span class="sxs-lookup"><span data-stu-id="70bf5-121">Deploy the bot to a cloud service, such as [Microsoft Azure](https://azure.microsoft.com/).</span></span> <span data-ttu-id="70bf5-122">或者，在本地运行你的应用并使用隧道服务（如 [ngrok）](https://ngrok.com) 为自动 https:// 公开一个 https:// 终结点，例如 `https://45az0eb1.ngrok.io/api/messages` 。</span><span class="sxs-lookup"><span data-stu-id="70bf5-122">Alternatively, run your app locally and use a tunneling service such [ngrok](https://ngrok.com) to expose an https:// endpoint for your bot, such as `https://45az0eb1.ngrok.io/api/messages`.</span></span>

> [!NOTE]
> ## <a name="bots-and-microsoft-azure"></a><span data-ttu-id="70bf5-123">机器人和Microsoft Azure</span><span class="sxs-lookup"><span data-stu-id="70bf5-123">Bots and Microsoft Azure</span></span>
> <span data-ttu-id="70bf5-124">截至 2017 年 12 月，Bot Framework 门户已针对在 Microsoft Azure 中注册自动程序进行了优化。</span><span class="sxs-lookup"><span data-stu-id="70bf5-124">As of December, 2017, the Bot Framework portal is optimized for registering bots in Microsoft Azure.</span></span> <span data-ttu-id="70bf5-125">以下是几个注意事项：</span><span class="sxs-lookup"><span data-stu-id="70bf5-125">Here are some things to know:</span></span>
>
> * <span data-ttu-id="70bf5-126">在 Azure 中注册的自动程序的 Microsoft Teams 频道是免费的。</span><span class="sxs-lookup"><span data-stu-id="70bf5-126">The Microsoft Teams channel for bots registered on Azure is free.</span></span> <span data-ttu-id="70bf5-127">通过自动Teams发送的消息不会计入自动程序使用的已用邮件。</span><span class="sxs-lookup"><span data-stu-id="70bf5-127">Messages sent over the Teams channel will not count towards the consumed messages for the bot.</span></span>
> * <span data-ttu-id="70bf5-128">虽然无需使用 Azure 即可创建新的 [Bot Framework](https://dev.botframework.com/bots/new) 自动程序，但必须使用该 URL (，该 URL 不再在 Bot Framework 门户 https://dev.botframework.com/bots/new) 中公开。</span><span class="sxs-lookup"><span data-stu-id="70bf5-128">While it's possible to [create a new Bot Framework bot](https://dev.botframework.com/bots/new) without using Azure, you must use that URL (https://dev.botframework.com/bots/new), which is no longer exposed in the Bot Framework portal.</span></span>
> * <span data-ttu-id="70bf5-129">在[Bot Framework](https://dev.botframework.com/bots)中编辑自动程序列表中的现有自动程序的属性时，例如其"消息终结点"，首次开发自动程序时很常见，尤其是在使用[ngrok](https://ngrok.com)时，你将看到"迁移状态"列和一个蓝色"迁移"按钮，该按钮将进入 Microsoft Azure 门户。</span><span class="sxs-lookup"><span data-stu-id="70bf5-129">When you edit the properties of an existing bot in the [list of your bots in Bot Framework](https://dev.botframework.com/bots) such as its "messaging endpoint," which is common when first developing a bot, especially if you use [ngrok](https://ngrok.com), you will see "Migration status" column and a blue "Migrate" button that will take you into the Microsoft Azure portal.</span></span> <span data-ttu-id="70bf5-130">不要单击"迁移"按钮，除非你希望这样做;相反，单击自动程序的名称，你可以编辑其属性：</span><span class="sxs-lookup"><span data-stu-id="70bf5-130">Don't click on the "Migrate" button unless that's what you want to do; instead, click on the name of the bot and you can edit its properties:</span></span></br>
   <span data-ttu-id="70bf5-131">![编辑自动程序属性](~/assets/images/bots/bf-migrate-bot-to-azure.png)</span><span class="sxs-lookup"><span data-stu-id="70bf5-131">![Edit Bot Properties](~/assets/images/bots/bf-migrate-bot-to-azure.png)</span></span>
> * <span data-ttu-id="70bf5-132">如果使用自动程序Microsoft Azure自动程序，则无需托管在Microsoft Azure。 </span><span class="sxs-lookup"><span data-stu-id="70bf5-132">If you register your bot using Microsoft Azure, your bot code does not need to be *hosted* on Microsoft Azure.</span></span>
> * <span data-ttu-id="70bf5-133">如果你使用 Microsoft Azure 门户注册自动程序，则必须拥有 Microsoft Azure 帐户。</span><span class="sxs-lookup"><span data-stu-id="70bf5-133">If you do register a bot using Microsoft Azure portal, you must have a Microsoft Azure account.</span></span> <span data-ttu-id="70bf5-134">你可以[免费创建一个](https://azure.microsoft.com/free/)。</span><span class="sxs-lookup"><span data-stu-id="70bf5-134">You can [create one for free](https://azure.microsoft.com/free/).</span></span> <span data-ttu-id="70bf5-135">若要创建信用卡时验证身份，必须提供信用卡，但不收费;始终可以自由地创建自动程序并使用Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="70bf5-135">To verify your identity when you create one, you must provide a credit card, but it won't be charged; it's always free to create and use bots with Microsoft Teams.</span></span>
> * <span data-ttu-id="70bf5-136">你现在可以使用 App Studio 直接在应用中注册/更新应用和Microsoft Teams。</span><span class="sxs-lookup"><span data-stu-id="70bf5-136">You can now use App Studio to register/update app and bot information directly within Microsoft Teams.</span></span> <span data-ttu-id="70bf5-137">你只需使用 Microsoft Azure 门户添加/配置其他自动程序框架频道，如 Direct Line、Web Chat、Skype 和 Facebook Messenger。</span><span class="sxs-lookup"><span data-stu-id="70bf5-137">You'll only have to use the Microsoft Azure portal for adding/configuring other Bot Framework channels such as Direct Line, Web Chat, Skype, and Facebook Messenger.</span></span>
