### YamlMime:Tutorial
title: 使用 Blazor 生成第一个应用
metadata:
  title: 使用 Blazor Hello World
  description: 本教程介绍如何使用 Blazor 生成Hello World应用、使用 C# 生成交互式 Web UI，以及创建 Tab 应用和机器人应用。
  audience: Developer
  level: Beginner
  ms.date: 04/03/2022
  ms.topic: interactive-tutorial
  nextTutorialHref: ~/get-started/get-started-overview.md
  nextTutorialTitle: 返回入门概述
  ms.custom: mvc
  ms.localizationpriority: high
  ms.openlocfilehash: 2a40aca63bf7db83b5fa037b864c2d5f0e37e457
  ms.sourcegitcommit: c398dfdae9ed96f12e1401ac7c8d0228ff9c0a2b
  ms.translationtype: MT
  ms.contentlocale: zh-CN
  ms.lasthandoff: 06/30/2022
  ms.locfileid: "66558539"
items:
- durationInMinutes: 1
  content: "\nBlazor 允许使用 C# 而不是 JavaScript 生成交互式 Web UI。 \n\n可以使用 Blazor 和最新版本的 Visual Studio 创建 Tab 应用和机器人应用。\n\n:::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/blazor/your-blazor-helloworld-app.png\" alt-text=\"显示此应用具有选项卡和机器人两个功能的图示。\":::\n\n> [!NOTE]\n> 目前，Teams 工具包不支持消息扩展功能。\n"
- title: 先决条件
  durationInMinutes: 1
  content: "\n下面是生成和部署应用所需的工具列表。\n\n| &nbsp;    | 安装   | 用于使用... |\n| --- | --- | --- |\n| **Required** | &nbsp; | &nbsp; |\n| &nbsp; | [Visual Studio 版本 17.2.0 预览版 2.1](https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=enterprise&ch=pre&rel=17)|  选择Visual Studio Enterprise 2022 预览版 (版本 17.2.0 预览版 2.1) 。 |\n| &nbsp; | [Microsoft Teams](https://www.microsoft.com/en-us/microsoft-teams/download-app) | 通过聊天、会议、通话等应用与每一位同事进行协作的 Microsoft Teams - 一个地方完成所有操作。 |\n| &nbsp; | [Microsoft Edge](https://www.microsoft.com/edge)（推荐）或 [Google Chrome](https://www.google.com/chrome/) | 包含开发人员工具的浏览器。 |\n\n\n## <a name=\"prepare-development-environment\"></a>准备开发环境\n\n安装所需的工具后，请设置开发环境。\n\n### <a name=\"install-microsoft-teams-toolkit\"></a>安装 Microsoft Teams 工具包\n\nTeams 工具包通过工具简化开发过程，这些工具可用于为应用预配和部署云资源、发布到 Teams 应用商店等。 可以将工具包与 Visual Studio 结合使用，也可以用作名为) 的 `teamsfx` CLI (。 \n\n# <a name=\"latest-version-of-the-visual-studio\"></a>[最新版本的 Visual Studio](#tab/vs)\n\n可以使用最新版本的 Visual Studio 在 .NET 中使用 Blazor Server 开发 Teams 应用。\n\n若要安装 Microsoft Teams 工具包扩展，请执行以下操作：\n\n1. 下载最新版本的 Visual Studio。\n1. 从下载文件夹打开 `vs_enterprise__3bed52501a604464b1eff2ce580fd4eb.exe` 。\n1. 在 **Visual Studio 安装程序** 页中选择 **“继续**”以配置安装。\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor/visual-studio-installer.png\" alt-text=\"选择“继续”以配置安装\":::  \n\n1. 在工作负载下选择 **ASP.NET 和 Web 开发** 。\n\n1. 选择 **Microsoft Teams 开发工具**。\n   \n1. 选择“安装”。\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs.install.png\" alt-text=\"插图显示了安装 Microsoft 开发工具的选项。\":::  \n   \n Visual Studio 会在几分钟内安装。\n\n# <a name=\"command-line\"></a>[命令行](#tab/cli)\n\n若要安装 TeamsFx CLI，请使用包管理器 `npm` ：\n\n``` bash\nnpm install -g @microsoft/teamsfx-cli\n```\n\n根据配置，可能需要使用 `sudo` 它来安装 CLI：\n\n``` bash\nsudo npm install -g --unsafe-perm @microsoft/teamsfx-cli\n```\n\n此条件在 Linux 和 macOS 系统上更为常见。\n\n确保将 npm 全局缓存添加到 PATH。 此步骤通常作为Node.js安装程序的一部分完成。  \n\n可以将 CLI 与命令配合 `teamsfx` 使用。 通过运行来验证命令是否正常工作 `teamsfx -h`。\n\n> [!CAUTION]\n> 在 PowerShell 终端中运行 TeamsFx 之前，必须为 PowerShell 启用“远程签名”执行策略。\n\n---\n\n## <a name=\"set-up-your-teams-development-tenant\"></a>设置 Teams 开发租户\n\n**租户** 类似于 Teams 中组织的空间或容器，可在其中聊天、共享文件和运行会议。 此空间也是旁加载和测试应用的位置。 我们来验证是否已准备好使用租户进行开发。\n\n### <a name=\"enable-sideloading-option\"></a>启用旁加载选项\n\n创建应用后，必须在 Teams 中加载应用，而无需分发它。 此过程称为“旁加载”。 登录到 Microsoft 365 帐户以查看此选项。\n  \n是否已拥有租户，是否具有管理员访问权限？ 我们来检查你是否真的这样做了！\n\n验证是否可以在 Teams 中旁加载应用：\n\n1. 在 Teams 客户端中，选择 **“应用商店** ”图标。\n1. 选择“**管理应用**”。\n1. 查找 **用于上传自定义应用的** 选项。 如果看到此选项，则会启用旁加载应用。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/prerequisites/upload-custom-app.png\" alt-text=\"此图显示了在 Teams 中上传自定义应用的选项。\":::\n\n    > [!NOTE]\n    > 如果 Teams 未显示上传自定义应用的选项，请连接到 Teams 管理员。\n\n### <a name=\"create-a-free-teams-developer-tenant-optional\"></a>创建免费的 Teams 开发人员租户 (可选) \n\n如果没有 Teams 开发人员帐户，可以免费获取。 加入 Microsoft 365 开发人员计划！\n\n1. 转到 [Microsoft 365 开发人员计划](https://developer.microsoft.com/microsoft-365/dev-program)。\n1. 选择 **“立即加入** ”，并按照屏幕上的说明操作。\n1. 在欢迎屏幕中，选择 **“设置 E5 订阅**”。\n1. 设置管理员帐户。 完成后，将显示以下屏幕。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/build-your-first-app/dev-program-subscription.png\" alt-text=\"注册 Microsoft 365 开发人员计划后看到的示例。\":::\n\n1. 使用刚设置的管理员帐户登录到 Teams。 验证你是否在 Teams 中具有 **“上传自定义应用** ”选项。\n\n## <a name=\"get-a-free-azure-account\"></a>获取免费的 Azure 帐户\n\n如果要在 Azure 中托管应用或访问资源，则必须具有 Azure 订阅。 在开始之前[创建免费帐户](https://azure.microsoft.com/free/)。\n\n现在，你已获得所有工具并设置了帐户。 接下来，让我们设置开发环境并开始构建！\n"
- title: 为 Tab 应用创建项目工作区
  durationInMinutes: 1
  content: "通过创建第一个应用来启动 Teams 应用开发。 此应用使用选项卡功能。\n\n:::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/blazor/your-blazor-helloworld-app1.png\" alt-text=\"显示此应用的示意图具有一项功能。突出显示了选项卡。\":::    \n\n本教程逐步讲解如何使用 .NET/Blazor 创建、运行和部署第一个 Teams 应用。\n\n在本部分中，可以了解：\n\n1. [如何使用 Teams 工具包设置新选项卡项目](#create-your-tab-project)\n1. [关于应用的目录结构](#take-a-tour-of-the-source-code-for-teams-tab-app)\n\n## <a name=\"create-your-tab-project\"></a>创建选项卡项目\n\n使用 Teams 工具包创建第一个项目。 该工具包将引导你完成一系列页面来创建和配置 Teams 应用项目：\n\n1. **创建新的项目** 页：选择项目类型。\n1. **配置新项目** 页：输入项目详细信息。\n1. **创建新的 Teams 应用程序** 页：选择 Teams 应用功能。\n\n**创建选项卡项目工作区**\n\n1. 打开最新版本的 Visual Studio。\n\n1. 选择 **“创建新项目**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-select-project.png\" alt-text=\"插图显示了创建新项目的选项。\":::\n\n    将显示 **“创建新项目** ”页。\n\n1. 选择项目详细信息。\n\n     选择项目类型：\n\n      1. 从 **“所有平台**”下拉列表中选择 **Microsoft Teams**。  \n    \n      1. 选择 **Microsoft Teams 应用** 作为模板。\n\n      1. 选择 **下一步**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-select-teams-app.png\" alt-text=\"插图显示了选择模板的选项。\":::\n    \n      将显示 **“配置新项目** ”页。\n\n1.  配置新的项目详细信息。     \n\n      选择以下项目配置：\n\n      1. 为项目输入合适的名称。\n\n          > [!NOTE] \n          > 可以注意，输入的项目名称也会自动填充为 **解决方案名称** 。 如果需要，可以更改解决方案名称，而不会影响项目名称。\n\n      1. 选择要在其中创建项目工作区的文件夹路径。\n\n      1. 如果需要，请输入其他解决方案名称。\n\n      1. 如果需要，请检查将项目和解决方案保存在同一文件夹中的选项。 对于本教程，不需要此选项。\n\n      1. 选择“**创建**”。\n\n      :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/configure-new-project.png\" alt-text=\"此图显示了用于配置新项目的选项。\":::\n\n      将显示 **“创建新的 Teams 应用程序** ”页。  \n\n1.  选择 Teams 应用功能。 \n      \n    选择应用功能：\n\n    1. 选择 **Tab 应用** 作为应用的功能。\n\n    1. 选择“**创建**”。      \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/select-tab.png\" alt-text=\"此图显示了用于配置新项目的选项。\":::\n    \n    Teams 选项卡应用在几秒钟内创建。\n    \n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor/vs-tab-app.png\" alt-text=\"插图显示在 Visual Studio 中创建的应用项目。\":::\n    \n\n<details>\n<summary>创建 Teams 选项卡应用的快速回顾。</summary>\n观看此简短的回顾以创建 Teams 选项卡应用。\n\n![创建 Teams 应用](~/assets/videos/blazorapp.gif)\n</details>\n\n## <a name=\"take-a-tour-of-the-source-code-for-teams-tab-app\"></a>查看 Teams 选项卡应用的源代码\n\n项目创建后，你将拥有用于生成基本个人应用的组件。 可以在最新 Visual Studio **的解决方案资源管理器** 区域中查看项目目录结构。\n\n:::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor/blazor-app-solution-explorer.png\" alt-text=\"显示最新 Visual Studio 中个人应用的应用项目文件的屏幕截图。\":::\n\nTeams 工具包基于所选功能为项目创建基架。 在其他文件中，Teams 工具包维护：\n\n| 文件夹名 | 目录 |\n| --- | --- |\n| 应用图标 | 应用图标在 `color.png` 和 `outline.png`中存储为 PNG 文件。 |\n| 属性/`manifest.json` | 通过 Teams 开发人员门户发布的应用清单存储在 `Properties/manifest.json`其中。 |\n| 控制器/`BackendController.cs` | 提供后端控制器 `Controllers/BackendController.cs` 以协助身份验证。 |\n| `Pages/Tab.razor` | 通过 Teams 开发人员门户发布的应用清单存储在 `Properties/manifest.json`其中。 |\n| `TeamsFx.cs` 和 `JS/src/index.js` | 内容用于初始化与 Teams 主机的通信。 |\n\n可以通过将其他 ASP.NET Core控制器添加到应用程序来添加后端功能。\n"
- title: 生成并运行第一个 Teams 选项卡应用
  durationInMinutes: 1
  content: "使用 Teams 工具包设置项目工作区后，生成选项卡项目。\n\n若要生成和运行应用，请执行以下操作：\n\n1. 选择 **“Project** > **Teams 工具包** > 配置 **Microsoft Teams**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/configure-msteamsapp.png\" alt-text=\"选择项目的预配操作\":::\n\n1. 选择 Microsoft 365 帐户或 **添加要** 登录的帐户。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/M365-account.png\" alt-text=\"选择项目的预配操作\":::\n\n1. 选择 **“调试** > **开始调试** ”或选择 **F5** 以在调试模式下运行应用。\n    <!-- markdownlint-disable MD033 -->\n    <details>\n    <summary>在本地调试器中运行应用时，了解会发生什么情况。</summary>\n\n    选择 **F5** 时，Teams 工具包：\n\n    1. 将应用程序注册到 Azure Active Directory。\n    1. 在 Teams 中注册应用程序以进行“旁加载”。\n    1. 启动在本地运行的应用程序后端。\n    1. 在本地启动托管的应用程序前端。\n    1. 使用命令在 Web 浏览器中启动 Teams，指示 Teams 在应用程序清单) 中注册 URL (旁加载应用程序。\n\n    </details>\n\n1. 如果请求，请安装自签名 SSL 证书以进行本地调试。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/ssl-prompt.png\" alt-text=\"显示如何提示安装 SSL 证书以使 Teams 能够从 localhost 加载应用程序的屏幕截图。\":::\n\n    Teams 在 Web 浏览器中加载。\n    \n1. 当系统提示将应用安装到 Teams 时选择 **“添加** ”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/blazor-add-app.png\" alt-text=\"显示如何将应用添加到 Teams Web 客户端的屏幕截图\":::\n\n   恭喜，你的第一个选项卡应用正在本地环境中运行！\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/app-local.png\" alt-text=\"已完成应用的屏幕截图\":::\n\n1. 在页面中移动以查看用户详细信息。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/authorize-user-info.png\" alt-text=\"用于访问用户信息的“授权”按钮的屏幕截图\":::\n\n1. 选择 **“授权** ”，让应用使用 Microsoft Graph 检索用户详细信息。\n\n    应用请求授予用于显示用户详细信息的访问权限。    \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/ms-graph-permission.png\" alt-text=\"显示如何接受访问用户信息的权限的屏幕截图\":::\n\n1. 选择 **“接受** ”以允许应用访问用户详细信息。\n\n    您的照片和详细信息显示在 **“个人”选项卡中**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/tab-user-info.png\" alt-text=\"显示选项卡中的用户信息的屏幕截图\":::\n\n    可以执行正常的调试活动，例如设置断点，就好像它是任何其他 Web 应用程序一样。 该应用支持热重新加载。  如果更改了项目内的任何文件，将重新加载页面。\n\n<!-- markdownlint-disable MD033 -->\n<details>\n<summary>了解如何在应用未在本地运行时进行故障排除。</summary>\n\n若要在 Teams 中运行应用，需要一个允许应用旁加载的 Microsoft 365 开发帐户。 可以在“先决条件”部分了解有关它的详细信息。\n</details>\n"
- title: 预览你的第一个 Teams 选项卡应用
  durationInMinutes: 1
  content: "\n你已了解如何使用选项卡功能创建、生成和运行 Teams 应用。 最后一步是在 Azure 上部署应用，在 Teams 上部署预览版。 它包含以下内容：\n\n1. [在云中预配 Tab 应用](#to-provision-your-tab-app-in-the-cloud)：可以在云中预配 Tab 应用。\n1. [将 Tab 应用部署到云](#to-deploy-your-tab-app-to-cloud)：可以将 Tab 应用部署到云。 \n1. [在 Teams 中预览选项卡应用](#to-preview-your-tab-app-in-teams)：在 Teams 中打开选项卡应用。 \n\n让我们使用 Teams 工具包在 Azure 上部署具有选项卡功能的第一个应用。\n\n#### <a name=\"to-provision-your-tab-app-in-the-cloud\"></a>**在云中预配 Tab 应用**\n\n1. 选择云中的 **Project** > **Teams 工具包** > **预配**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-build-provision.png\" alt-text=\"选择项目的预配操作\":::\n\n1. 在“ **预配** ”对话框中输入以下内容：\n\n   1. **订阅名称**：Visual Studio Enterprise订阅。 </br>\n   1. **资源组**：选择 **“新建** ”以添加为应用生成的资源组。</br>\n   1. 选择“ **区域**”。\n   1. 选择 **“预配**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/select-subscription.png\" alt-text=\"选择项目的订阅操作\":::\n\n    显示预配警告。 \n\n1. 选择 **“预配**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/provision-warning.png\" alt-text=\"选择预配\":::\n\n    资源组需要几分钟时间才能在云中预配。 \n    \n1. 预配完成后，选择 **“确定**”。 \n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/provision-complete.png\" alt-text=\"生成资源组\":::\n\n1. 选择 **“查看预配的资源**”以查看Azure 门户。 \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/view-resource.png\" alt-text=\"生成资源组\":::\n\n1. 在登录提示符下登录到Azure 门户帐户。 \n\n    将显示你的 app-dev-rg。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/app-dev-rg-azure.png\" alt-text=\"在 Azure 中查看\":::\n\n    资源已在Azure 门户中预配！\n\n#### <a name=\"to-deploy-your-tab-app-to-cloud\"></a>**将 Tab 应用部署到云**\n\n1. 选择 **“部署到云****的 Project** > **Teams 工具包** > ”。\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-build-deploytocloud.png\" alt-text=\"选择部署到云\":::\n\n1. 选择“**确定**”。 \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/deploy-success.png\" alt-text=\"选择部署到云\":::\n\n    选项卡应用已成功部署到云！\n\n#### <a name=\"to-preview-your-tab-app-in-teams\"></a>**在 Teams 中预览选项卡应用**    \n\n1. 选择 **Project** > **Teams 工具包** > **预览版 Teams 应用**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-build-preview.png\" alt-text=\"选择预览\":::\n\n1. 当系统提示将应用安装到 Teams 时选择 **“添加** ”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/blazor-add-app.png\" alt-text=\"显示如何将应用添加到 Teams Web 客户端的屏幕截图。\":::\n\n    恭喜，你的第一个选项卡应用正在 Azure 环境中运行！\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/blazor-tab-app-azure.png\" alt-text=\"已完成应用的屏幕截图\":::\n\n1. 在页面中移动以查看用户详细信息。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/authorize-user-info.png\" alt-text=\"用于访问用户信息的“授权”按钮的屏幕截图\":::\n\n1. 选择 **“授权** ”，让应用使用 Microsoft Graph 检索用户详细信息。\n\n    应用请求授予用于显示用户详细信息的访问权限。    \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/ms-graph-permission.png\" alt-text=\"显示如何接受访问用户信息的权限的屏幕截图\":::\n\n1. 选择 **“接受** ”以允许应用访问用户详细信息。\n\n    您的照片和详细信息显示在 **“个人”选项卡中**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/azure-user-info.png\" alt-text=\"显示选项卡中的用户信息的屏幕截图\":::\n"
- title: 为机器人应用创建项目工作区
  durationInMinutes: 1
  content: "通过创建第一个应用来启动 Teams 应用开发。 此应用使用机器人功能。\n\n:::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/blazor/your-helloworld-app-bot.png\" alt-text=\"显示此应用的示意图具有一项功能。突出显示了选项卡。\":::    \n\n本教程逐步讲解如何使用 .NET/Blazor 创建、运行和部署第一个 Teams 应用。\n\n在本部分中，可以了解：\n\n1. [如何使用 Teams 工具包设置新的机器人项目](#create-your-bot-project)\n1. [关于应用的目录结构](#take-a-tour-of-the-source-code-for-teams-bot-app)\n\n## <a name=\"create-your-bot-project\"></a>创建机器人项目\n\n使用 Teams 工具包创建第一个项目。 该工具包将引导你完成一系列页面来创建和配置 Teams 应用项目：\n\n1. **创建新的项目** 页：选择项目类型。\n1. **配置新项目** 页：输入项目详细信息。\n1. **创建新的 Teams 应用程序** 页：选择 Teams 应用功能。\n\n**创建机器人项目工作区**\n\n1. 打开最新版本的 Visual Studio。\n\n1. 选择 **“创建新项目**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-select-project.png\" alt-text=\"插图显示了创建新项目的选项。\":::\n\n    将显示 **“创建新项目** ”页。\n\n1. 选择项目详细信息。\n\n      选择项目类型：\n\n      1. 从 **“所有平台**”下拉列表中选择 **Microsoft Teams**。  \n    \n      1. 选择 **Microsoft Teams 应用** 作为模板。\n\n      1. 选择 **下一步**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor/vs-select-teams-app.png\" alt-text=\"插图显示了选择模板的选项。\":::\n\n      将显示 **“配置新项目** ”页。\n\n1.  配置新的项目详细信息。  \n\n      选择以下项目配置：\n\n      1. 为项目输入合适的名称。\n\n          > [!NOTE] \n          > 可以注意，输入的项目名称也会自动填充为 **解决方案名称** 。 如果需要，可以更改解决方案名称，而不会影响项目名称。\n\n      1. 选择要在其中创建项目工作区的文件夹路径。\n\n      1. 如果需要，请输入其他解决方案名称。\n\n      1. 如果需要，请检查将项目和解决方案保存在同一文件夹中的选项。 对于本教程，不需要此选项。\n\n      1. 选择“**创建**”。   \n\n      :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/configure-new-project-bot.png\" alt-text=\"此图显示了用于配置新项目的选项。\":::\n\n      将显示 **“创建新的 Teams 应用程序** ”页。  \n\n1.  选择 Teams 应用功能。 \n\n    选择应用功能： \n\n    1. 选择 **Bot 应用** 作为应用的功能。\n\n    1. 选择“**创建**”。     \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/select-bot.png\" alt-text=\"此图显示了用于配置新项目的选项。\":::\n\n    Teams 机器人应用在几秒钟内创建。\n    \n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/vs-bot-app-team.png\" alt-text=\"插图显示在最新的 Visual Studio 中创建的应用项目。\":::\n    \n\n<details>\n<summary>创建 Teams 机器人应用的快速回顾。</summary>\n观看此简短回顾以创建 Teams 机器人应用。\n\n![创建 Teams 应用](~/assets/videos/botapp.gif)\n</details>\n\n## <a name=\"take-a-tour-of-the-source-code-for-teams-bot-app\"></a>了解 Teams 机器人应用的源代码\n\n项目创建后，你将拥有用于生成基本个人应用的组件。 可以在最新 Visual Studio **的解决方案资源管理器** 区域中查看项目目录结构。\n\n:::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor/blazor-appbot-solution-explorer.png\" alt-text=\"显示最新 Visual Studio 中个人应用的应用项目文件的屏幕截图。\":::\n\nTeams 工具包基于所选功能为项目创建基架。 在其他文件中，Teams 工具包维护：\n\n| 文件夹名 | 目录 |\n| --- | --- |\n| 应用图标 | 应用图标在 `color.png` 和 `outline.png`中存储为 PNG 文件。 |\n| 属性/`manifest.json` | 通过 Teams 开发人员门户发布的应用清单存储在 `Properties/manifest.json`其中。 |\n| 控制器/`BackendController.cs` | 提供后端控制器 `Controllers/BackendController.cs` 以协助身份验证。 |\n| `TeamsFx.cs` 和 `JS/src/index.js` | 内容用于初始化与 Teams 主机的通信。 |\n\n可以通过将其他 ASP.NET Core控制器添加到应用程序来添加后端功能。\n"
- title: 生成并运行第一个机器人应用
  durationInMinutes: 1
  content: "\n若要在本地构建并运行应用程序:\n\n1. 选择 **“Project** > **Teams 工具包** > 配置 **Microsoft Teams**”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/configure-msteamsapp.png\" alt-text=\"选择项目的预配操作\":::\n\n1. 选择 Microsoft 365 帐户或 **添加要** 登录的帐户。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/M365-account.png\" alt-text=\"选择项目的预配操作\":::\n\n1.  使用 ngrok 或命令提示符创建到本地运行的 Web 服务器的公开可用 HTTPS 终结点的隧道。 在 ngrok 中运行以下命令：\n\n    ```bash\n    ngrok http -host-header=localhost 2544\n    ```\n\n 1. 选择 **“调试** > **开始调试** ”或选择 **F5** 以在调试模式下运行应用。\n    <!-- markdownlint-disable MD033 -->\n    <details>\n    <summary>在本地调试器中运行应用时，了解会发生什么情况。</summary>\n\n    选择 **F5** 时，Teams 工具包：\n\n    1. 将应用程序注册到 Azure Active Directory。\n    1. 在 Teams 中注册应用程序以进行“旁加载”。\n    1. 启动在本地运行的应用程序后端。\n    1. 在本地启动托管的应用程序前端。\n    1. 使用命令在 Web 浏览器中启动 Teams，指示 Teams 在应用程序清单) 中注册 URL (旁加载应用程序。\n\n    </details>\n    \n    >[!NOTE]\n    > 首次运行应用时，将下载所有依赖项，并生成应用。 编译完成后，将自动打开浏览器窗口。 此过程可能需要 3-5 分钟才能完成。\n\n    Web 浏览器开始运行应用。\n\n1. 当系统提示将应用旁加载到本地计算机上的 Teams 时选择 **“添加** ”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/add-bot.png\" alt-text=\"显示正在 Teams 客户端上添加机器人的屏幕截图。\":::\n\n    现在机器人已在 Teams 上成功运行！ 加载应用后，将打开与机器人的聊天会话。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/bot-running.png\" alt-text=\"显示机器人在 Teams 客户端上运行的屏幕截图。\":::\n\n    可以键入 `welcome` 以显示简介卡片，然后键 `learn` 入以转到自适应卡片和机器人命令文档。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/bot-welcome.png\" alt-text=\"显示 Teams 客户端上的机器人中的欢迎卡片的屏幕截图。\":::       \n\n     可以执行正常的调试活动，例如设置断点，就好像它是任何其他 Web 应用程序一样。 该应用支持热重新加载。  如果更改了项目内的任何文件，将重新加载页面。\n     \n  <!-- markdownlint-disable MD033 -->\n  <details>\n  <summary>了解如何在应用未在本地运行时进行故障排除。</summary>\n\n  若要在 Teams 中成功运行应用，请确保已在 Teams 帐户中启用旁加载。 可以在“先决条件”部分了解有关旁加载的详细信息。\n"
- title: 预览第一个机器人应用
  durationInMinutes: 1
  content: "\n你已了解如何使用机器人功能创建、生成和运行 Teams 应用。 最后一步是在 Azure 上部署应用，在 Teams 上部署预览版。 它包含以下内容：\n\n1. [在云中预配机器人应用](#to-provision-your-bot-app-in-the-cloud)：可以在云中预配机器人应用。\n1. [将机器人应用部署到云](#to-deploy-your-bot-app-to-cloud)：可以将机器人应用部署到云。 \n1. [在 Teams 中预览机器人应用](#to-preview-your-bot-app-in-teams)：机器人应用将在 Teams 中打开。 \n\n让我们使用 Teams 工具包在 Azure 上部署第一个机器人应用。\n\n#### <a name=\"to-provision-your-bot-app-in-the-cloud\"></a>**在云中预配机器人应用**\n\n1. 选择云中的 **Project** > **Teams 工具包** > **预配**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/azure-app.png\" alt-text=\"在云中预配\":::\n\n1. 在“ **预配** ”对话框中输入以下内容：\n\n    1. **订阅名称**：Teams 云 - 使用 TTL 进行开发测试 = 3 天。 </br>\n    1. **资源组**：选择 **“新建** ”以添加为应用生成的资源组。</br>\n    1. 选择“ **区域**”。\n    1. 选择 **“预配**”。\n\n       :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/provision-azure.png\" alt-text=\"编辑预配窗口\":::\n\n       显示预配警告。 \n\n1. 选择 **“预配**”。\n\n   :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/permission-azure.png\" alt-text=\"警告\":::\n\n   资源组需要几分钟时间才能在云中预配。\n    \n1. 预配完成后，选择 **“确定**”。 \n\n      :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/apppackage1-azure.png\" alt-text=\"权限确定\":::\n\n1. 选择 **“查看预配的资源**”以查看Azure 门户。 \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/view-resource-azure.png\" alt-text=\"预配的资源\":::\n\n1. 在登录提示符下登录到Azure 门户帐户。 \n\n    将显示你的 app-dev-rg。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/azure.png\" alt-text=\"创建的 Azure 应用\":::\n\n    资源已在Azure 门户中预配！\n\n#### <a name=\"to-deploy-your-bot-app-to-cloud\"></a>**将机器人应用部署到云**\n\n 1. 选择 **“部署到云****的 Project** > **Teams 工具包** > ”。\n\n      :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/deploy-to-cloud-azure.png\" alt-text=\"部署到云\":::\n\n 1. 选择“**确定**”。 \n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/deploy-success.png\" alt-text=\"部署成功\":::\n\n    机器人应用已成功部署到云！\n\n#### <a name=\"to-preview-your-bot-app-in-teams\"></a>**在 Teams 中预览机器人应用** \n\n 1. 选择 **Project** > **Teams 工具包** > **预览版 Teams 应用**。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/preview-azure.png\" alt-text=\"在 Azure 中选择预览版\":::\n\n 1. 当系统提示将应用安装到 Teams 时选择 **“添加** ”。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/add-app-azure.png\" alt-text=\"显示如何将应用添加到 Teams 的屏幕截图。\":::\n\n    现在机器人已在 Teams 上成功运行！ 加载应用后，将打开与机器人的聊天会话。\n\n 1. 可以键入 `welcome` 以显示介绍卡片。\n\n     :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/welcome.png\" alt-text=\"打开简介卡片\":::\n\n 1. 可以键入 `learn` 转到自适应卡片和机器人命令文档。\n\n    :::image type=\"content\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/blazor-vs-preview2/learn.png\" alt-text=\"机器人和自适应卡片打开\":::\n"
- title: 恭喜！
  durationInMinutes: 1
  content: "\n你做到了！\n\n你已创建了两个应用，每个应用具有不同的功能：选项卡应用和机器人应用。\n\n你已完成使用 Blazor 生成应用的教程。"
